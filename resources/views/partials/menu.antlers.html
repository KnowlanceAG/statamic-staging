<!-- desktop main nav -->
{{ cache scope="site" }}
  <nav
    class="menu-desktop hidden prelg:flex prelg:static prelg:h-auto prelg:self-center prelg:items-center prelg:justify-end">
    {{ nav handle="mainnav_desktop" }}
      {{ if depth == 1 }}
        {{ if last }}
          <a href="{{ url }}"
            class="ml-4 xl:ml-6 bg-gray-700 px-3 py-2 md:px-5 md:py-3 rounded-sm uppercase text-sm font-300 text-white hover:bg-black hover:transition-colors hover:duration-200">
            {{ title }}
          </a>
        {{ else }}
          {{ if children }}
            <p
              {{ if is_current || is_parent }} class="my-0 ml-4 xl:ml-6 current text-sm font-normal hover:text-orange-500 {{ if children }}dropdown cursor-pointer{{ /if }}" {{ else }} class="my-0 ml-4 xl:ml-6 text-sm font-normal text-gray-600 hover:text-orange-500 {{ if children }}dropdown cursor-pointer{{ /if }}" {{ /if }}>
              {{ title }}
            </p>
            <div class="fixed top-24 left-0 w-screen h-screen bg-white bg-opacity-95 megamenu hidden">
              <section class="lg:py-8 px-4 max-w-screen">
                <div class="content container mx-auto max-w-screen-xl clear-both">
                  <div class="w-full flex justify-end mb-6">
                    <button
                      class="closesub border-0 bg-transparent text-black hover:scale-110 transform-gpu transition-all duration-150 ease-in-out">
                      <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24"
                        stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                          d="M6 18L18 6M6 6l12 12" />
                      </svg>
                    </button>
                  </div>
                  <div class="flex flex-wrap gap-4 relative">
                    <!-- linke spalte lvl 1 -->
                    <div class="w-1/4 flex flex-col">
                      {{ children }}
                        <p data-target-tab="tab-{{ count }}"
                          class="subitemtoggle mb-2 font-black {{ if first }}active{{ /if }} hover:text-orange-500 cursor-pointer w-max">
                          {{ title }}</p>
                      {{ /children }}
                    </div>
                    {{ children }}
                      <div id="tab-{{ count }}"
                        class="w-3/4 grid grid-cols-3 gap-x-4 gap-y-12 subitem {{ if first }}active {{ else }}{{ /if }} transition-all duration-200">
                        {{ *recursive children* }}
                      </div>
                    {{ /children }}
                  </div>
                </div>
              </section>
            </div>
          {{ else }}
            <a href="{{ url }}"
              {{ if is_current || is_parent }} class="my-0 ml-4 xl:ml-6 current text-sm font-normal text-orange-500 {{ if children }}dropdown{{ /if }}" {{ else }} class="my-0 ml-4 xl:ml-6 text-sm font-normal text-gray-600 hover:text-orange-500 {{ if children }}dropdown{{ /if }}" {{ /if }}>
              {{ title }}
            </a>
          {{ /if }}
        {{ /if }}
      {{ elseif depth == 2 }}
        {{ if children }}
          <!-- rechte spalte lvl 2 -->
          {{ *recursive children* }}
        {{ /if }}
      {{ elseif depth == 3 }}
        <div class="flex flex-col">
          <p class="font-black mt-0 mb-2 w-3/4 leading-tight">{{ title }}</p>
          {{ if children }}
            {{ *recursive children* }}
          {{ /if }}
        </div>
      {{ elseif depth == 4 }}
        <a href="{{ url }}" class="hover:text-orange-500 w-max">{{ title }}</a>
      {{ /if }}
    {{ /nav }}
  </nav>
{{ /cache }}
<!-- /desktop main nav -->

<!-- mobile main nav -->
<button type="button"
  class="menu-opener inline-flex prelg:hidden items-center justify-center p-2 text-orange-500 hover:text-orange-700 focus:outline-none"
  aria-controls="mobile-menu" @click="open = !open" aria-expanded="false" x-bind:aria-expanded="open.toString()">
  <span class="sr-only">Open main menu</span>
  <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" class="h-8 w-8 block">
    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M4 6h16M4 12h16M4 18h16" />
  </svg>
</button>
{{ cache scope="site" }}
  <nav
    class="menu-mobile hidden prelg:hidden w-auto h-screen pb-24 shadow-2xl absolute z-10 right-0 top-0 bottom-0 bg-white overflow-y-scroll scrollbar-hide">
    <button
      class="menu-closer w-full block px-6 py-4 pr-24 border-b border-gray-300 text-orange-500 hover:text-white hover:bg-orange-500 hover:transition-colors hover:duration-200">
      <svg x-state:on="Menu open" x-state:off="Menu closed" class="h-6 w-6"
        :class="{ 'block': open, 'hidden': !(open) }" x-description="Heroicon name: outline/x"
        xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
      </svg>
    </button>
    {{ nav handle="hauptnavigation_mobile" }}
      {{ if depth == 1 }}
        {{ if last }}
          <a href="{{ url }}"
            class="w-full block px-6 py-4 pr-24 border-b border-gray-300 text-orange-500 hover:text-white hover:bg-orange-500 hover:transition-colors hover:duration-200">
            {{ title }}
          </a>
        {{ else }}
          {{ if children }}
            {{ if url }}
              <a href="{{ url }}"
                {{ if is_current || is_parent }} class="w-full flex items-center px-6 py-4 pr-24 border-b border-gray-300 text-orange-500 hover:text-white hover:bg-orange-500 hover:transition-colors hover:duration-200" {{ else }} class="w-full block px-6 py-4 pr-24 border-b border-gray-300 text-orange-500 hover:text-white hover:bg-orange-500 hover:transition-colors hover:duration-200" {{ /if }}>
                <span>
                  {{ title }}
                  <button class="nextlvl-toggle mx-2 p-1 border border-white rounded-sm transition-all duration-200">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5t" viewBox="0 0 20 20" fill="currentColor">
                      <path fill-rule="evenodd"
                        d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"
                        clip-rule="evenodd" />
                    </svg>
                  </button>
                </span>
              </a>
              <div class="lvl megamenu border-b border-gray-300 bg-gray-100 px-4">
                <div class="my-4">
                  {{ children }}
                    {{ title }}
                    {{ *recursive children* }}
                  {{ /children }}
                </div>
              </div>
            {{ else }}
              <p
                class="nextlvl-toggle w-full flex items-center px-6 py-4 pr-24 mb-0 border-gray-300 text-orange-500 hover:text-white hover:bg-orange-500 hover:transition-colors hover:duration-200">
                {{ title }}
                <button class="mx-2 p-1 border border-white rounded-sm">
                  <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
                    <path fill-rule="evenodd"
                      d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"
                      clip-rule="evenodd" />
                  </svg>
                </button>
              </p>
              <div class="lvl megamenu border-b border-gray-300 bg-gray-100 px-6">
                <div class="my-4">
                  {{ children }}
                    <p class="nextlvl-toggle text-orange-500 flex items-center w-auto">
                      {{ title }}
                      <button class="">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
                          <path fill-rule="evenodd"
                            d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"
                            clip-rule="evenodd" />
                        </svg>
                      </button>
                    </p>
                    <div class="lvl">
                      {{ *recursive children* }}
                    </div>
                  {{ /children }}
                </div>
              </div>
            {{ /if }}
          {{ else }}
            <a href="{{ url }}"
              {{ if is_current || is_parent }} class="w-full block px-6 py-4 pr-24 border-b border-gray-300 text-orange-500 hover:text-white hover:bg-orange-500 hover:transition-colors hover:duration-200" {{ else }} class="w-full block px-6 py-4 pr-24 border-b border-gray-300 text-orange-500 hover:text-white hover:bg-orange-500 hover:transition-colors hover:duration-200" {{ /if }}>
              {{ title }}
            </a>
          {{ /if }}
        {{ /if }}
      {{ elseif depth == 2 }}
        {{ *recursive children* }}
      {{ elseif depth == 3 }}
        <p class="nextlvl-toggle mt-0 mb-2 ml-2 flex items-center">
          {{ title }}
          <button class="ml-2">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
              <path fill-rule="evenodd"
                d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"
                clip-rule="evenodd" />
            </svg>
          </button>
        </p>
        <div class="lvl ml-6">
          {{ if children }}
            {{ *recursive children* }}
          {{ /if }}
        </div>
      {{ elseif depth == 4 }}
        {{ if last }}
          <a href="{{ url }}" class="mb-8 w-full block text-orange-500">{{ title }}</a>
        {{ else }}
          <a href="{{ url }}" class="mb-2 w-full block text-orange-500">{{ title }}</a>
        {{ /if }}
      {{ /if }}
    {{ /nav }}
  </nav>
{{ /cache }}
<div
  class="menu-overlayer hidden lg:hidden bg-gray-900 opacity-80 fixed top-0 right-0 bottom-0 left-0 z-0 h-screen w-screen">
</div>
<!-- /mobile main nav -->
